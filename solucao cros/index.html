<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Solução CORS com Proxy Customizado</title>
</head>
<body>
  <button onclick="fetchData()">Buscar Horário</button>
  <div id="result"></div>

  <script>
    function fetchData() {
      const urlDestino = encodeURIComponent('https://worldtimeapi.org/api/timezone/Europe/London');
      
      fetch(`http://localhost:3000/proxy?url=${urlDestino}`)
        .then(response => response.json())
        .then(data => {
          document.getElementById('result').textContent = `Horário em Londres: ${data.datetime}`;
        })
        .catch(error => {
          console.error('Erro:', error);
          document.getElementById('result').textContent = 'Erro ao buscar dados';
        });
    }
  </script>
</body>
</html>
